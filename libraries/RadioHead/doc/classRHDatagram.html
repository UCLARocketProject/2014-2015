<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>RadioHead: RHDatagram Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RadioHead
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classRHDatagram-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RHDatagram Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Manager class for addressed, unreliable messages.  
 <a href="classRHDatagram.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="RHDatagram_8h_source.html">RHDatagram.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for RHDatagram:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classRHDatagram.png" usemap="#RHDatagram_map" alt=""/>
  <map id="RHDatagram_map" name="RHDatagram_map">
<area href="classRHReliableDatagram.html" title="RHDatagram subclass for sending addressed, acknowledged, retransmitted datagrams. ..." alt="RHReliableDatagram" shape="rect" coords="0,56,128,80"/>
<area href="classRHRouter.html" title="RHReliableDatagram subclass for sending addressed, optionally acknowledged datagrams multi-hop routed..." alt="RHRouter" shape="rect" coords="0,112,128,136"/>
<area href="classRHMesh.html" title="RHRouter subclass for sending addressed, optionally acknowledged datagrams multi-hop routed across a ..." alt="RHMesh" shape="rect" coords="0,168,128,192"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ada6271bf28191c2368766785c6ba8b7a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#ada6271bf28191c2368766785c6ba8b7a">RHDatagram</a> (<a class="el" href="classRHGenericDriver.html">RHGenericDriver</a> &amp;driver, uint8_t <a class="el" href="classRHDatagram.html#a4749623dde8ada6dc6e18b32e3e8ed8f">thisAddress</a>=0)</td></tr>
<tr class="separator:ada6271bf28191c2368766785c6ba8b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe51be17fd7cc8db571c3b3ba2de0816"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#abe51be17fd7cc8db571c3b3ba2de0816">init</a> ()</td></tr>
<tr class="separator:abe51be17fd7cc8db571c3b3ba2de0816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2031c32443b797b275245344c8a36ef1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#a2031c32443b797b275245344c8a36ef1">setThisAddress</a> (uint8_t <a class="el" href="classRHDatagram.html#a4749623dde8ada6dc6e18b32e3e8ed8f">thisAddress</a>)</td></tr>
<tr class="separator:a2031c32443b797b275245344c8a36ef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99894e3465aa607022cc240cc0394462"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#a99894e3465aa607022cc240cc0394462">sendto</a> (uint8_t *buf, uint8_t len, uint8_t address)</td></tr>
<tr class="separator:a99894e3465aa607022cc240cc0394462"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76f519f91e9fd435e1c0be67ad999420"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#a76f519f91e9fd435e1c0be67ad999420">recvfrom</a> (uint8_t *buf, uint8_t *len, uint8_t *from=NULL, uint8_t *to=NULL, uint8_t *id=NULL, uint8_t *flags=NULL)</td></tr>
<tr class="separator:a76f519f91e9fd435e1c0be67ad999420"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a118f5c8f0ac925335cea6f23d2063467"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#a118f5c8f0ac925335cea6f23d2063467">available</a> ()</td></tr>
<tr class="separator:a118f5c8f0ac925335cea6f23d2063467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99a90a3d35f6c579dab2a044417077a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#a99a90a3d35f6c579dab2a044417077a4">waitAvailable</a> ()</td></tr>
<tr class="separator:a99a90a3d35f6c579dab2a044417077a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b453d9b83c4da71acc62eea77af3d73"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#a3b453d9b83c4da71acc62eea77af3d73">waitPacketSent</a> ()</td></tr>
<tr class="separator:a3b453d9b83c4da71acc62eea77af3d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4a7d3b768b22518228d609dcce8dd0c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#ae4a7d3b768b22518228d609dcce8dd0c">waitPacketSent</a> (uint16_t timeout)</td></tr>
<tr class="separator:ae4a7d3b768b22518228d609dcce8dd0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01757f63f461642e91065421702872a5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#a01757f63f461642e91065421702872a5">waitAvailableTimeout</a> (uint16_t timeout)</td></tr>
<tr class="separator:a01757f63f461642e91065421702872a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4d577cb119ed5a37d20d9cdbc30c942"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#aa4d577cb119ed5a37d20d9cdbc30c942">setHeaderTo</a> (uint8_t to)</td></tr>
<tr class="separator:aa4d577cb119ed5a37d20d9cdbc30c942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02ceb5bb2662041ed26319d315845f37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#a02ceb5bb2662041ed26319d315845f37">setHeaderFrom</a> (uint8_t from)</td></tr>
<tr class="separator:a02ceb5bb2662041ed26319d315845f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aac12bf5bcc900eb525fa1676113803"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#a4aac12bf5bcc900eb525fa1676113803">setHeaderId</a> (uint8_t id)</td></tr>
<tr class="separator:a4aac12bf5bcc900eb525fa1676113803"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10dca3a92476b8ab7728bf39632a44cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#a10dca3a92476b8ab7728bf39632a44cd">setHeaderFlags</a> (uint8_t set, uint8_t clear=RH_FLAGS_NONE)</td></tr>
<tr class="separator:a10dca3a92476b8ab7728bf39632a44cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac24d1bedb469a506a51526341c3f0a58"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#ac24d1bedb469a506a51526341c3f0a58">headerTo</a> ()</td></tr>
<tr class="separator:ac24d1bedb469a506a51526341c3f0a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a216f6cafb7de91cc85af38dc6155c113"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#a216f6cafb7de91cc85af38dc6155c113">headerFrom</a> ()</td></tr>
<tr class="separator:a216f6cafb7de91cc85af38dc6155c113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1db8fccebe40bb24950b1d3a3013880d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#a1db8fccebe40bb24950b1d3a3013880d">headerId</a> ()</td></tr>
<tr class="separator:a1db8fccebe40bb24950b1d3a3013880d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bb61fc918e1844ec24cb696ec8cd87b"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#a7bb61fc918e1844ec24cb696ec8cd87b">headerFlags</a> ()</td></tr>
<tr class="separator:a7bb61fc918e1844ec24cb696ec8cd87b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4749623dde8ada6dc6e18b32e3e8ed8f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#a4749623dde8ada6dc6e18b32e3e8ed8f">thisAddress</a> ()</td></tr>
<tr class="separator:a4749623dde8ada6dc6e18b32e3e8ed8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a44cd19d6c10e3586f868556e3d6aa67e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a44cd19d6c10e3586f868556e3d6aa67e"></a>
<a class="el" href="classRHGenericDriver.html">RHGenericDriver</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#a44cd19d6c10e3586f868556e3d6aa67e">_driver</a></td></tr>
<tr class="memdesc:a44cd19d6c10e3586f868556e3d6aa67e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Driver we are to use. <br /></td></tr>
<tr class="separator:a44cd19d6c10e3586f868556e3d6aa67e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae61ea3f68f3365d03249fd5807e989bd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae61ea3f68f3365d03249fd5807e989bd"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRHDatagram.html#ae61ea3f68f3365d03249fd5807e989bd">_thisAddress</a></td></tr>
<tr class="memdesc:ae61ea3f68f3365d03249fd5807e989bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The address of this node. <br /></td></tr>
<tr class="separator:ae61ea3f68f3365d03249fd5807e989bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manager class for addressed, unreliable messages. </p>
<p>Every <a class="el" href="classRHDatagram.html" title="Manager class for addressed, unreliable messages. ">RHDatagram</a> node has an 8 bit address (defaults to 0). Addresses (DEST and SRC) are 8 bit integers with an address of RH_BROADCAST_ADDRESS (0xff) reserved for broadcast.</p>
<dl class="section user"><dt>Media Access Strategy</dt><dd></dd></dl>
<p><a class="el" href="classRHDatagram.html" title="Manager class for addressed, unreliable messages. ">RHDatagram</a> and the underlying drivers always transmit as soon as <a class="el" href="classRHDatagram.html#a99894e3465aa607022cc240cc0394462">sendto()</a> is called.</p>
<dl class="section user"><dt>Message Lengths</dt><dd></dd></dl>
<p>Not all Radio drivers supported by RadioHead can handle the same message lengths. Some radios can handle up to 255 octets, and some as few as 28. If you attempt to send a message that is too long for the underlying driver, sendTo() will return false and will not transmit the message. It is the programmers responsibility to make sure that messages passed to <a class="el" href="classRHDatagram.html#a99894e3465aa607022cc240cc0394462">sendto()</a> do not exceed the capability of the radio. You can use the *_MAX_MESSAGE_LENGTH definitions or driver-&gt;maxMessageLength() to help.</p>
<dl class="section user"><dt>Headers</dt><dd></dd></dl>
<p>Each message sent and received by a RadioHead driver includes 4 headers: -TO The node address that the message is being sent to (broadcast RH_BROADCAST_ADDRESS (255) is permitted) -FROM The node address of the sending node -ID A message ID, distinct (over short time scales) for each message sent by a particilar node -FLAGS A bitmask of flags. The most significant 4 bits are reserved for use by RadioHead. The least significant 4 bits are reserved for applications. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ada6271bf28191c2368766785c6ba8b7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RHDatagram::RHDatagram </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRHGenericDriver.html">RHGenericDriver</a> &amp;&#160;</td>
          <td class="paramname"><em>driver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>thisAddress</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">driver</td><td>The RadioHead driver to use to transport messages. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">thisAddress</td><td>The address to assign to this node. Defaults to 0 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a118f5c8f0ac925335cea6f23d2063467"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RHDatagram::available </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tests whether a new message is available from the Driver. On most drivers, this will also put the Driver into RHModeRx mode until a message is actually received bythe transport, when it will be returned to RHModeIdle. This can be called multiple times in a timeout loop. </p><dl class="section return"><dt>Returns</dt><dd>true if a new, complete, error-free uncollected message is available to be retreived by recv() </dd></dl>

<p>References <a class="el" href="classRHDatagram.html#a44cd19d6c10e3586f868556e3d6aa67e">_driver</a>, and <a class="el" href="classRHGenericDriver.html#a2dd522b8eb16c51dc948b4ca4d623888">RHGenericDriver::available()</a>.</p>

<p>Referenced by <a class="el" href="classRHReliableDatagram.html#af172410589842760babf938a0538334c">RHReliableDatagram::recvfromAck()</a>, and <a class="el" href="classRHReliableDatagram.html#ad282ac147986a63692582f323b56c47f">RHReliableDatagram::sendtoWait()</a>.</p>

</div>
</div>
<a class="anchor" id="a7bb61fc918e1844ec24cb696ec8cd87b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t RHDatagram::headerFlags </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the FLAGS header of the last received message </p><dl class="section return"><dt>Returns</dt><dd>The FLAGS header of the most recently received message. </dd></dl>

<p>References <a class="el" href="classRHDatagram.html#a44cd19d6c10e3586f868556e3d6aa67e">_driver</a>, and <a class="el" href="classRHGenericDriver.html#a056fbd2df558971fe8a1653499a37c63">RHGenericDriver::headerFlags()</a>.</p>

<p>Referenced by <a class="el" href="classRHDatagram.html#a76f519f91e9fd435e1c0be67ad999420">recvfrom()</a>.</p>

</div>
</div>
<a class="anchor" id="a216f6cafb7de91cc85af38dc6155c113"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t RHDatagram::headerFrom </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the FROM header of the last received message </p><dl class="section return"><dt>Returns</dt><dd>The FROM header of the most recently received message. </dd></dl>

<p>References <a class="el" href="classRHDatagram.html#a44cd19d6c10e3586f868556e3d6aa67e">_driver</a>, and <a class="el" href="classRHGenericDriver.html#a8cf7a972186592c51c6fde034d17ab9f">RHGenericDriver::headerFrom()</a>.</p>

<p>Referenced by <a class="el" href="classRHMesh.html#a13cdddb49480defaf287bd3a7a16b298">RHMesh::doArp()</a>, <a class="el" href="classRHMesh.html#a6f5ea28b73f33c95f2658f3a72cf32fd">RHMesh::peekAtMessage()</a>, <a class="el" href="classRHDatagram.html#a76f519f91e9fd435e1c0be67ad999420">recvfrom()</a>, <a class="el" href="classRHMesh.html#ae39d1157f0fbf26a6a9457aaefcc7092">RHMesh::recvfromAck()</a>, and <a class="el" href="classRHMesh.html#a006494be8fd2e2d7c160b58473714043">RHMesh::route()</a>.</p>

</div>
</div>
<a class="anchor" id="a1db8fccebe40bb24950b1d3a3013880d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t RHDatagram::headerId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the ID header of the last received message </p><dl class="section return"><dt>Returns</dt><dd>The ID header of the most recently received message. </dd></dl>

<p>References <a class="el" href="classRHDatagram.html#a44cd19d6c10e3586f868556e3d6aa67e">_driver</a>, and <a class="el" href="classRHGenericDriver.html#a81548960bb29a3ac35325c74cd562f45">RHGenericDriver::headerId()</a>.</p>

<p>Referenced by <a class="el" href="classRHDatagram.html#a76f519f91e9fd435e1c0be67ad999420">recvfrom()</a>.</p>

</div>
</div>
<a class="anchor" id="ac24d1bedb469a506a51526341c3f0a58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t RHDatagram::headerTo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the TO header of the last received message </p><dl class="section return"><dt>Returns</dt><dd>The TO header of the most recently received message. </dd></dl>

<p>References <a class="el" href="classRHDatagram.html#a44cd19d6c10e3586f868556e3d6aa67e">_driver</a>, and <a class="el" href="classRHGenericDriver.html#a6f49c9fe68354b50988dec435fa8d086">RHGenericDriver::headerTo()</a>.</p>

<p>Referenced by <a class="el" href="classRHDatagram.html#a76f519f91e9fd435e1c0be67ad999420">recvfrom()</a>.</p>

</div>
</div>
<a class="anchor" id="abe51be17fd7cc8db571c3b3ba2de0816"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RHDatagram::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialise this instance and the driver connected to it. </p>

<p>References <a class="el" href="classRHDatagram.html#a44cd19d6c10e3586f868556e3d6aa67e">_driver</a>, <a class="el" href="classRHDatagram.html#ae61ea3f68f3365d03249fd5807e989bd">_thisAddress</a>, <a class="el" href="classRHGenericDriver.html#a3e1cfcd4d6187702c364cf4c81e76365">RHGenericDriver::init()</a>, and <a class="el" href="classRHDatagram.html#a2031c32443b797b275245344c8a36ef1">setThisAddress()</a>.</p>

<p>Referenced by <a class="el" href="classRHRouter.html#afb2c05984049e312d1b9b534d4b396cd">RHRouter::init()</a>.</p>

</div>
</div>
<a class="anchor" id="a76f519f91e9fd435e1c0be67ad999420"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RHDatagram::recvfrom </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>from</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>to</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>id</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>flags</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Turns the receiver on if it not already on. If there is a valid message available for this node, copy it to buf and return true The SRC address is placed in *from if present and not NULL. The DEST address is placed in *to if present and not NULL. If a message is copied, *len is set to the length. You should be sure to call this function frequently enough to not miss any messages It is recommended that you call it in your main loop. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Location to copy the received message </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">len</td><td>Pointer to available space in buf. Set to the actual number of octets copied. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from</td><td>If present and not NULL, the referenced uint8_t will be set to the FROM address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">to</td><td>If present and not NULL, the referenced uint8_t will be set to the TO address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>If present and not NULL, the referenced uint8_t will be set to the ID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>If present and not NULL, the referenced uint8_t will be set to the FLAGS (not just those addressed to this node). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if a valid message was copied to buf </dd></dl>

<p>References <a class="el" href="classRHDatagram.html#a44cd19d6c10e3586f868556e3d6aa67e">_driver</a>, <a class="el" href="classRHDatagram.html#a7bb61fc918e1844ec24cb696ec8cd87b">headerFlags()</a>, <a class="el" href="classRHDatagram.html#a216f6cafb7de91cc85af38dc6155c113">headerFrom()</a>, <a class="el" href="classRHDatagram.html#a1db8fccebe40bb24950b1d3a3013880d">headerId()</a>, <a class="el" href="classRHDatagram.html#ac24d1bedb469a506a51526341c3f0a58">headerTo()</a>, and <a class="el" href="classRHGenericDriver.html#a58f0f64dff770bbeb1b197a5fca0579a">RHGenericDriver::recv()</a>.</p>

<p>Referenced by <a class="el" href="classRHReliableDatagram.html#af172410589842760babf938a0538334c">RHReliableDatagram::recvfromAck()</a>, and <a class="el" href="classRHReliableDatagram.html#ad282ac147986a63692582f323b56c47f">RHReliableDatagram::sendtoWait()</a>.</p>

</div>
</div>
<a class="anchor" id="a99894e3465aa607022cc240cc0394462"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RHDatagram::sendto </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends a message to the node(s) with the given address RH_BROADCAST_ADDRESS is a valid address which will cause the message to be accepted by all <a class="el" href="classRHDatagram.html" title="Manager class for addressed, unreliable messages. ">RHDatagram</a> nodes within range. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Pointer to the binary message to send </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Number of octets to send (&gt; 0) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>The address to send the message to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the message not too loing fot eh driver, and the message was transmitted. </dd></dl>

<p>References <a class="el" href="classRHDatagram.html#a44cd19d6c10e3586f868556e3d6aa67e">_driver</a>, <a class="el" href="classRHGenericDriver.html#a5716069edea652af8019daaeb64357ee">RHGenericDriver::send()</a>, and <a class="el" href="classRHDatagram.html#aa4d577cb119ed5a37d20d9cdbc30c942">setHeaderTo()</a>.</p>

<p>Referenced by <a class="el" href="classRHReliableDatagram.html#ad1ea9f35e98d248bf595563e52f66183">RHReliableDatagram::acknowledge()</a>, and <a class="el" href="classRHReliableDatagram.html#ad282ac147986a63692582f323b56c47f">RHReliableDatagram::sendtoWait()</a>.</p>

</div>
</div>
<a class="anchor" id="a10dca3a92476b8ab7728bf39632a44cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RHDatagram::setHeaderFlags </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>clear</em> = <code>RH_FLAGS_NONE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets and clears bits in the FLAGS header to be sent in all subsequent messages </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">set</td><td>bitmask of bits to be set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">clear</td><td>bitmask of flags to clear </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classRHDatagram.html#a44cd19d6c10e3586f868556e3d6aa67e">_driver</a>, and <a class="el" href="classRHGenericDriver.html#acb992b3c5e360e68b67e4843558bcf3b">RHGenericDriver::setHeaderFlags()</a>.</p>

<p>Referenced by <a class="el" href="classRHReliableDatagram.html#ad1ea9f35e98d248bf595563e52f66183">RHReliableDatagram::acknowledge()</a>, and <a class="el" href="classRHReliableDatagram.html#ad282ac147986a63692582f323b56c47f">RHReliableDatagram::sendtoWait()</a>.</p>

</div>
</div>
<a class="anchor" id="a02ceb5bb2662041ed26319d315845f37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RHDatagram::setHeaderFrom </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>from</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the FROM header to be sent in all subsequent messages </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">from</td><td>The new FROM header value </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classRHDatagram.html#a44cd19d6c10e3586f868556e3d6aa67e">_driver</a>, and <a class="el" href="classRHGenericDriver.html#a470e67f4168dec41435dcc0e194202c8">RHGenericDriver::setHeaderFrom()</a>.</p>

<p>Referenced by <a class="el" href="classRHDatagram.html#a2031c32443b797b275245344c8a36ef1">setThisAddress()</a>.</p>

</div>
</div>
<a class="anchor" id="a4aac12bf5bcc900eb525fa1676113803"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RHDatagram::setHeaderId </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the ID header to be sent in all subsequent messages </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The new ID header value </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classRHDatagram.html#a44cd19d6c10e3586f868556e3d6aa67e">_driver</a>, and <a class="el" href="classRHGenericDriver.html#a4dd57079264bda98bc89145fe5d2eb8f">RHGenericDriver::setHeaderId()</a>.</p>

<p>Referenced by <a class="el" href="classRHReliableDatagram.html#ad1ea9f35e98d248bf595563e52f66183">RHReliableDatagram::acknowledge()</a>, and <a class="el" href="classRHReliableDatagram.html#ad282ac147986a63692582f323b56c47f">RHReliableDatagram::sendtoWait()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4d577cb119ed5a37d20d9cdbc30c942"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RHDatagram::setHeaderTo </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>to</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the TO header to be sent in all subsequent messages </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">to</td><td>The new TO header value </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classRHDatagram.html#a44cd19d6c10e3586f868556e3d6aa67e">_driver</a>, and <a class="el" href="classRHGenericDriver.html#a182436232f7a345bca0d1766d242f3fb">RHGenericDriver::setHeaderTo()</a>.</p>

<p>Referenced by <a class="el" href="classRHDatagram.html#a99894e3465aa607022cc240cc0394462">sendto()</a>.</p>

</div>
</div>
<a class="anchor" id="a2031c32443b797b275245344c8a36ef1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RHDatagram::setThisAddress </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>thisAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the address of this node. Defaults to 0. This will be used to set the FROM address of all messages sent by this node. In a conventional multinode system, all nodes will have a unique address (which you could store in EEPROM). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thisAddress</td><td>The address of this node </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classRHDatagram.html#a44cd19d6c10e3586f868556e3d6aa67e">_driver</a>, <a class="el" href="classRHDatagram.html#ae61ea3f68f3365d03249fd5807e989bd">_thisAddress</a>, <a class="el" href="classRHDatagram.html#a02ceb5bb2662041ed26319d315845f37">setHeaderFrom()</a>, <a class="el" href="classRHGenericDriver.html#a5e8f15e1e7480899d18c3a21248bb628">RHGenericDriver::setThisAddress()</a>, and <a class="el" href="classRHDatagram.html#a4749623dde8ada6dc6e18b32e3e8ed8f">thisAddress()</a>.</p>

<p>Referenced by <a class="el" href="classRHDatagram.html#abe51be17fd7cc8db571c3b3ba2de0816">init()</a>.</p>

</div>
</div>
<a class="anchor" id="a4749623dde8ada6dc6e18b32e3e8ed8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t RHDatagram::thisAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the address of this node. </p><dl class="section return"><dt>Returns</dt><dd>The address of this node </dd></dl>

<p>References <a class="el" href="classRHDatagram.html#ae61ea3f68f3365d03249fd5807e989bd">_thisAddress</a>.</p>

<p>Referenced by <a class="el" href="classRHDatagram.html#a2031c32443b797b275245344c8a36ef1">setThisAddress()</a>.</p>

</div>
</div>
<a class="anchor" id="a99a90a3d35f6c579dab2a044417077a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RHDatagram::waitAvailable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts the Driver receiver and blocks until a valid received message is available. </p>

<p>References <a class="el" href="classRHDatagram.html#a44cd19d6c10e3586f868556e3d6aa67e">_driver</a>, and <a class="el" href="classRHGenericDriver.html#abf108e52389353cb3658b6802b92c77c">RHGenericDriver::waitAvailable()</a>.</p>

</div>
</div>
<a class="anchor" id="a01757f63f461642e91065421702872a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RHDatagram::waitAvailableTimeout </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts the Driver receiver and blocks until a received message is available or a timeout </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>Maximum time to wait in milliseconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if a message is available </dd></dl>

<p>References <a class="el" href="classRHDatagram.html#a44cd19d6c10e3586f868556e3d6aa67e">_driver</a>, and <a class="el" href="classRHGenericDriver.html#a8ed545cecc22196a325333dc9637e4cf">RHGenericDriver::waitAvailableTimeout()</a>.</p>

</div>
</div>
<a class="anchor" id="a3b453d9b83c4da71acc62eea77af3d73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RHDatagram::waitPacketSent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Blocks until the transmitter is no longer transmitting. </p>

<p>References <a class="el" href="classRHDatagram.html#a44cd19d6c10e3586f868556e3d6aa67e">_driver</a>, and <a class="el" href="classRHGenericDriver.html#a7506f47e9a391ffa05f7271950c26ffe">RHGenericDriver::waitPacketSent()</a>.</p>

<p>Referenced by <a class="el" href="classRHReliableDatagram.html#ad1ea9f35e98d248bf595563e52f66183">RHReliableDatagram::acknowledge()</a>, and <a class="el" href="classRHReliableDatagram.html#ad282ac147986a63692582f323b56c47f">RHReliableDatagram::sendtoWait()</a>.</p>

</div>
</div>
<a class="anchor" id="ae4a7d3b768b22518228d609dcce8dd0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RHDatagram::waitPacketSent </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Blocks until the transmitter is no longer transmitting. or until the timeout occuers, whichever happens first </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>Maximum time to wait in milliseconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the RF22 completed transmission within the timeout period. False if it timed out. </dd></dl>

<p>References <a class="el" href="classRHDatagram.html#a44cd19d6c10e3586f868556e3d6aa67e">_driver</a>, and <a class="el" href="classRHGenericDriver.html#a7506f47e9a391ffa05f7271950c26ffe">RHGenericDriver::waitPacketSent()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="RHDatagram_8h_source.html">RHDatagram.h</a></li>
<li>RHDatagram.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
